{"version":3,"sources":["main.js"],"names":["theme","bookCover","lightSwitch","titleText","subtitleText","mixer","isMobile","window","matchMedia","matches","canvas","document","querySelector","loaderWrapper","getElementById","clipNames","projects","image","url","aboutCameraPos","x","y","z","aboutCameraRot","projectsCameraPos","projectsCameraRot","scene","THREE","Scene","camera","PerspectiveCamera","innerWidth","innerHeight","defaultCameraPos","defaultCamerRot","position","set","renderer","WebGLRenderer","antialias","setSize","setPixelRatio","devicePixelRatio","shadowMap","enabled","type","PCFSoftShadowMap","controls","OrbitControls","domElement","enablePan","minDistance","maxDistance","minAzimuthAngle","maxAzimuthAngle","Math","PI","minPolarAngle","maxPolarAngle","update","dracoLoader","DRACOLoader","setDecoderPath","gltfLoader","GLTFLoader","setDRACOLoader","load","room","style","display","video","createElement","src","muted","playsInline","autoplay","loop","videoTexture","VideoTexture","minFilter","NearestFilter","magFilter","generateMipmaps","encoding","sRGBEncoding","children","forEach","child","name","castShadow","receiveShadow","innerChild","material","MeshBasicMaterial","map","play","MeshPhysicalMaterial","roughness","color","ior","transmission","opacity","depthWrite","depthTest","bookTexture","TextureLoader","flipY","MeshStandardMaterial","add","animate","AnimationMixer","clips","animations","clipName","clip","AnimationClip","findByName","action","clipAction","loadIntroText","logoListener","aboutMenuListener","projectsMenuListener","init3DWorldClickListeners","initResponsive","error","console","ambientLight","AmbientLight","roomLight","PointLight","shadow","radius","mapSize","width","height","far","bias","fanLight1","fanLight2","fanLight3","fanLight4","fanLight5","pointLight1","pointLight2","pointLight3","pointLight4","clock","Clock","requestAnimationFrame","getDelta","render","loader","FontLoader","font","textMaterials","MeshPhongMaterial","flatShading","titleGeo","TextGeometry","size","Mesh","rotation","subTitleGeo","switchTheme","themeType","body","classList","remove","gsap","to","r","g","b","intensity","distance","duration","enableOrbitControls","disableOrbitControls","enableCloseBtn","disableCloseBtn","resetBookCover","resetProjects","length","project","i","mesh","scale","delay","resetCamera","delayedCall","addEventListener","e","preventDefault","cameraToAbout","colIndex","rowIndex","floor","geometry","PlaneGeometry","transparent","projectPlane","userData","mousePosition","Vector2","raycaster","Raycaster","intersects","newTheme","closeBtn","projectsBtn","target","contains","clientX","clientY","setFromCamera","intersectObjects","intersect","object","open","roomScene","toggle","container","aspect","updateProjectionMatrix"],"mappings":"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","sourcesContent":["import './style.css';\nimport * as THREE from 'three';\nimport * as dat from 'dat.gui';\nimport gsap from 'gsap';\nimport Stats from 'three/addons/libs/stats.module.js';\nimport { OrbitControls } from 'three/addons/controls/OrbitControls';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader';\nimport { FontLoader } from 'three/addons/loaders/FontLoader.js';\nimport { TextGeometry } from 'three/addons/geometries/TextGeometry.js';\n\n// VARIABLES\nlet theme = 'light';\nlet bookCover = null;\nlet lightSwitch = null;\nlet titleText = null;\nlet subtitleText = null;\nlet mixer;\nlet isMobile = window.matchMedia('(max-width: 992px)').matches;\nlet canvas = document.querySelector('.experience-canvas');\nconst loaderWrapper = document.getElementById('loader-wrapper');\nlet clipNames = [\n  'fan_rotation',\n  'fan_rotation.001',\n  'fan_rotation.002',\n  'fan_rotation.003',\n  'fan_rotation.004',\n];\nlet projects = [\n  {\n    image: 'textures/project-spaze.webp',\n    url: 'https://www.spaze.social/',\n  },\n  {\n    image: 'textures/project-myteachers.jpg',\n    url: 'https://myteachers.com.au/',\n  },\n  {\n    image: 'textures/project-wholesale.jpg',\n    url: 'https://wholesale.com.np/',\n  },\n  {\n    image: 'textures/project-pelotero.jpg',\n    url: 'https://www.peloterosenlaweb.com/',\n  },\n];\nlet aboutCameraPos = {\n  x: 0.12,\n  y: 0.2,\n  z: 0.55,\n};\nlet aboutCameraRot = {\n  x: -1.54,\n  y: 0.13,\n  z: 1.41,\n};\nlet projectsCameraPos = {\n  x: 1,\n  y: 0.45,\n  z: 0.01,\n};\nlet projectsCameraRot = {\n  x: 0.05,\n  y: 0.05,\n  z: 0,\n};\n\n// SCENE & CAMERA\nconst scene = new THREE.Scene();\nconst camera = new THREE.PerspectiveCamera(\n  75,\n  window.innerWidth / window.innerHeight,\n  0.01,\n  1000\n);\nlet defaultCameraPos = {\n  x: 1.009028643133046,\n  y: 0.5463638814987481,\n  z: 0.4983449671971262,\n};\nlet defaultCamerRot = {\n  x: -0.8313297556598935,\n  y: 0.9383399492446749,\n  z: 0.7240714481613063,\n};\ncamera.position.set(defaultCameraPos.x, defaultCameraPos.y, defaultCameraPos.z);\n\n// RENDERER\nconst renderer = new THREE.WebGLRenderer({\n  canvas: canvas,\n  antialias: true,\n});\nrenderer.setSize(window.innerWidth, window.innerHeight);\nrenderer.setPixelRatio(window.devicePixelRatio);\nrenderer.shadowMap.enabled = true;\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n// STATS\n// const stats = new Stats();\n// document.querySelector('.experience').appendChild(stats.dom);\n\n// CONTROLS\nconst controls = new OrbitControls(camera, renderer.domElement);\n// controls.enableDamping = true;\ncontrols.enablePan = false;\ncontrols.minDistance = 0.9;\ncontrols.maxDistance = 1.6;\ncontrols.minAzimuthAngle = 0.2;\ncontrols.maxAzimuthAngle = Math.PI * 0.78;\ncontrols.minPolarAngle = 0.3;\ncontrols.maxPolarAngle = Math.PI / 2;\ncontrols.update();\n\n// LOAD MODEL & ASSET\n// const loadingManager = new THREE.LoadingManager();\nconst dracoLoader = new DRACOLoader();\ndracoLoader.setDecoderPath('draco/');\nconst gltfLoader = new GLTFLoader();\ngltfLoader.setDRACOLoader(dracoLoader);\ngltfLoader.load(\n  'models/room.glb',\n  function (room) {\n    // hide loader on loade\n    loaderWrapper.style.display = 'none';\n\n    // load video\n    const video = document.createElement('video');\n    video.src = 'textures/arcane.mp4';\n    video.muted = true;\n    video.playsInline = true;\n    video.autoplay = true;\n    video.loop = true;\n\n    // create video texture\n    const videoTexture = new THREE.VideoTexture(video);\n    videoTexture.minFilter = THREE.NearestFilter;\n    videoTexture.magFilter = THREE.NearestFilter;\n    videoTexture.generateMipmaps = false;\n    videoTexture.encoding = THREE.sRGBEncoding;\n\n    room.scene.children.forEach((child) => {\n      // disable shadow by wall\n      if (child.name !== 'Wall') {\n        child.castShadow = true;\n      }\n      child.receiveShadow = true;\n\n      if (child.children) {\n        child.children.forEach((innerChild) => {\n          // disable shadow by book cover & switch btn\n          if (innerChild.name !== 'Book001' && innerChild.name !== 'Switch') {\n            innerChild.castShadow = true;\n          }\n          innerChild.receiveShadow = true;\n        });\n      }\n\n      if (child.name === 'Stand') {\n        child.children[0].material = new THREE.MeshBasicMaterial({\n          map: videoTexture,\n        });\n        video.play();\n      }\n\n      // transparent texture for glass\n      if (child.name === 'CPU') {\n        child.children[0].material = new THREE.MeshPhysicalMaterial();\n        child.children[0].material.roughness = 0;\n        child.children[0].material.color.set(0x999999);\n        child.children[0].material.ior = 3;\n        child.children[0].material.transmission = 2;\n        child.children[0].material.opacity = 0.8;\n        child.children[0].material.depthWrite = false;\n        child.children[0].material.depthTest = false;\n        child.children[1].material = new THREE.MeshPhysicalMaterial();\n        child.children[1].material.roughness = 0;\n        child.children[1].material.color.set(0x999999);\n        child.children[1].material.ior = 3;\n        child.children[1].material.transmission = 1;\n        child.children[1].material.opacity = 0.8;\n        child.children[1].material.depthWrite = false;\n        child.children[1].material.depthTest = false;\n      }\n\n      if (child.name === 'Book') {\n        bookCover = child.children[0];\n\n        // adding texture to book\n        const bookTexture = new THREE.TextureLoader().load(\n          'textures/book-inner.png'\n        );\n        bookTexture.flipY = false;\n        child.material = new THREE.MeshStandardMaterial({\n          color: 0xfbfbfb,\n          map: bookTexture,\n        });\n      }\n\n      if (child.name === 'SwitchBoard') {\n        lightSwitch = child.children[0];\n      }\n    });\n\n    scene.add(room.scene);\n    animate();\n\n    // add animation\n    mixer = new THREE.AnimationMixer(room.scene);\n    const clips = room.animations;\n    clipNames.forEach((clipName) => {\n      const clip = THREE.AnimationClip.findByName(clips, clipName);\n      if (clip) {\n        const action = mixer.clipAction(clip);\n        action.play();\n      }\n    });\n\n    loadIntroText();\n\n    // add event listeners\n    logoListener();\n    aboutMenuListener();\n    projectsMenuListener();\n    init3DWorldClickListeners();\n    initResponsive(room.scene);\n  },\n  function (error) {\n    console.error(error);\n  }\n);\n\n// ADD LIGHT\nconst ambientLight = new THREE.AmbientLight(0xffffff, 0.6);\nscene.add(ambientLight);\nconst roomLight = new THREE.PointLight(0xffffff, 2.5, 10);\nroomLight.position.set(0.3, 2, 0.5);\nroomLight.castShadow = true;\nroomLight.shadow.radius = 5;\nroomLight.shadow.mapSize.width = 2048;\nroomLight.shadow.mapSize.height = 2048;\nroomLight.shadow.camera.far = 2.5;\n// roomLight.shadow.camera.fov = 100;\nroomLight.shadow.bias = -0.002;\nscene.add(roomLight);\n// add light for pc fans\nconst fanLight1 = new THREE.PointLight(0xff0000, 30, 0.2);\nconst fanLight2 = new THREE.PointLight(0x00ff00, 30, 0.12);\nconst fanLight3 = new THREE.PointLight(0x00ff00, 30, 0.2);\nconst fanLight4 = new THREE.PointLight(0x00ff00, 30, 0.2);\nconst fanLight5 = new THREE.PointLight(0x00ff00, 30, 0.05);\nfanLight1.position.set(0, 0.29, -0.29);\nfanLight2.position.set(-0.15, 0.29, -0.29);\nfanLight3.position.set(0.21, 0.29, -0.29);\nfanLight4.position.set(0.21, 0.19, -0.29);\nfanLight5.position.set(0.21, 0.08, -0.29);\nscene.add(fanLight1);\nscene.add(fanLight2);\nscene.add(fanLight3);\nscene.add(fanLight4);\nscene.add(fanLight5);\n// add point light for text on wall\nconst pointLight1 = new THREE.PointLight(0xff0000, 0, 1.1);\nconst pointLight2 = new THREE.PointLight(0xff0000, 0, 1.1);\nconst pointLight3 = new THREE.PointLight(0xff0000, 0, 1.1);\nconst pointLight4 = new THREE.PointLight(0xff0000, 0, 1.1);\npointLight1.position.set(-0.2, 0.6, 0.24);\npointLight2.position.set(-0.2, 0.6, 0.42);\npointLight3.position.set(-0.2, 0.6, 0.01);\npointLight4.position.set(-0.2, 0.6, -0.14);\nscene.add(pointLight1);\nscene.add(pointLight2);\nscene.add(pointLight3);\nscene.add(pointLight4);\n\n// SETUP HELPERS\n// const axesHelper = new THREE.AxesHelper(5);\n// scene.add(axesHelper);\n// const gridHelper = new THREE.GridHelper(30, 30);\n// scene.add(gridHelper);\n// const shadowCameraHelper = new THREE.CameraHelper(roomLight.shadow.camera);\n// scene.add(shadowCameraHelper);\n// const pointLightHelper = new THREE.PointLightHelper(fanLight3, 0.03);\n// scene.add(pointLightHelper);\n\n// ADD GUI\n// const gui = new dat.GUI();\n// const options = {\n//   lightX: 0,\n//   lightY: 0.08,\n//   lightZ: 0,\n// };\n// gui.add(options, 'lightX').onChange((e) => {\n//   mobileLight.position.setX(e);\n// });\n// gui.add(options, 'lightY').onChange((e) => {\n//   mobileLight.position.setY(e);\n// });\n// gui.add(options, 'lightZ').onChange((e) => {\n//   mobileLight.position.setZ(e);\n// });\n\nconst clock = new THREE.Clock();\nfunction animate() {\n  requestAnimationFrame(animate);\n  // controls.update();\n  if (mixer) {\n    mixer.update(clock.getDelta());\n  }\n  renderer.render(scene, camera);\n  // stats.update();\n}\n\nfunction loadIntroText() {\n  const loader = new FontLoader();\n  loader.load('fonts/unione.json', function (font) {\n    const textMaterials = [\n      new THREE.MeshPhongMaterial({ color: 0x171f27, flatShading: true }),\n      new THREE.MeshPhongMaterial({ color: 0xffffff }),\n    ];\n    const titleGeo = new TextGeometry('KIOHOCCODE', {\n      font: font,\n      size: 0.08,\n      height: 0.01,\n    });\n    titleText = new THREE.Mesh(titleGeo, textMaterials);\n    titleText.rotation.y = Math.PI * 0.5;\n    titleText.position.set(-0.27, 0.55, 0.5);\n    scene.add(titleText);\n  });\n\n  loader.load('fonts/helvatica.json', function (font) {\n    const textMaterials = [\n      new THREE.MeshPhongMaterial({ color: 0x171f27, flatShading: true }),\n      new THREE.MeshPhongMaterial({ color: 0xffffff }),\n    ];\n    const subTitleGeo = new TextGeometry(\n      'Web Designer / Developer / Content Creator / Game Dev',\n      {\n        font: font,\n        size: 0.018,\n        height: 0,\n      }\n    );\n    subtitleText = new THREE.Mesh(subTitleGeo, textMaterials);\n    subtitleText.rotation.y = Math.PI * 0.5;\n    subtitleText.position.set(-0.255, 0.5, 0.5);\n    scene.add(subtitleText);\n  });\n}\n\nfunction switchTheme(themeType) {\n  if (themeType === 'dark') {\n    lightSwitch.rotation.z = Math.PI / 7;\n    document.body.classList.remove('light-theme');\n    document.body.classList.add('dark-theme');\n\n    // main lights\n    gsap.to(roomLight.color, {\n      r: 0.27254901960784313,\n      g: 0.23137254901960785,\n      b: 0.6862745098039216,\n    });\n    gsap.to(ambientLight.color, {\n      r: 0.17254901960784313,\n      g: 0.23137254901960785,\n      b: 0.6862745098039216,\n    });\n    gsap.to(roomLight, {\n      intensity: 1.5,\n    });\n    gsap.to(ambientLight, {\n      intensity: 0.3,\n    });\n\n    // fan lights\n    gsap.to(fanLight5, {\n      distance: 0.07,\n    });\n\n    // text color\n    gsap.to(titleText.material[0].color, {\n      r: 8,\n      g: 8,\n      b: 8,\n      duration: 0,\n    });\n    gsap.to(titleText.material[1].color, {\n      r: 5,\n      g: 5,\n      b: 5,\n      duration: 0,\n    });\n    gsap.to(subtitleText.material[0].color, {\n      r: 8,\n      g: 8,\n      b: 8,\n      duration: 0,\n    });\n    gsap.to(subtitleText.material[1].color, {\n      r: 5,\n      g: 5,\n      b: 5,\n      duration: 0,\n    });\n\n    // text light\n    gsap.to(pointLight1, {\n      intensity: 0.6,\n    });\n    gsap.to(pointLight2, {\n      intensity: 0.6,\n    });\n    gsap.to(pointLight3, {\n      intensity: 0.6,\n    });\n    gsap.to(pointLight4, {\n      intensity: 0.6,\n    });\n  } else {\n    lightSwitch.rotation.z = 0;\n    document.body.classList.remove('dark-theme');\n    document.body.classList.add('light-theme');\n\n    // main light\n    gsap.to(roomLight.color, {\n      r: 1,\n      g: 1,\n      b: 1,\n    });\n    gsap.to(ambientLight.color, {\n      r: 1,\n      g: 1,\n      b: 1,\n    });\n    gsap.to(roomLight, {\n      intensity: 2.5,\n    });\n    gsap.to(ambientLight, {\n      intensity: 0.6,\n    });\n\n    // fan light\n    gsap.to(fanLight5, {\n      distance: 0.05,\n    });\n\n    // text color\n    gsap.to(titleText.material[0].color, {\n      r: 0.09019607843137255,\n      g: 0.12156862745098039,\n      b: 0.15294117647058825,\n      duration: 0,\n    });\n    gsap.to(titleText.material[1].color, {\n      r: 1,\n      g: 1,\n      b: 1,\n      duration: 0,\n    });\n    gsap.to(subtitleText.material[0].color, {\n      r: 0.09019607843137255,\n      g: 0.12156862745098039,\n      b: 0.15294117647058825,\n      duration: 0,\n    });\n    gsap.to(subtitleText.material[1].color, {\n      r: 1,\n      g: 1,\n      b: 1,\n      duration: 0,\n    });\n\n    // text light\n    gsap.to(pointLight1, {\n      intensity: 0,\n    });\n    gsap.to(pointLight2, {\n      intensity: 0,\n    });\n    gsap.to(pointLight3, {\n      intensity: 0,\n    });\n    gsap.to(pointLight4, {\n      intensity: 0,\n    });\n  }\n}\n\nfunction enableOrbitControls() {\n  controls.enabled = true;\n}\n\nfunction disableOrbitControls() {\n  controls.enabled = false;\n}\n\nfunction enableCloseBtn() {\n  document.getElementById('close-btn').style.display = 'block';\n}\n\nfunction disableCloseBtn() {\n  document.getElementById('close-btn').style.display = 'none';\n}\n\nfunction resetBookCover() {\n  if (!bookCover) return;\n\n  gsap.to(bookCover.rotation, {\n    x: 0,\n    duration: 1.5,\n  });\n}\n\nfunction resetProjects() {\n  if (projects.length === 0) return;\n\n  projects.forEach((project, i) => {\n    gsap.to(project.mesh.material, {\n      opacity: 0,\n      duration: 1,\n    });\n    gsap.to(project.mesh.position, {\n      y: project.y,\n      duration: 1,\n    });\n    gsap.to(project.mesh.scale, {\n      x: 0,\n      y: 0,\n      z: 0,\n      duration: 0,\n      delay: 1,\n    });\n  });\n}\n\nfunction resetCamera() {\n  resetBookCover();\n  resetProjects();\n  disableCloseBtn();\n  gsap.to(camera.position, {\n    ...defaultCameraPos,\n    duration: 1.5,\n  });\n  gsap.to(camera.rotation, {\n    ...defaultCamerRot,\n    duration: 1.5,\n  });\n  gsap.delayedCall(1.5, enableOrbitControls);\n\n  // reset dimmed light for about display\n  if (theme !== 'dark') {\n    gsap.to(roomLight, {\n      intensity: 2.5,\n      duration: 1.5,\n    });\n  }\n}\n\nfunction logoListener() {\n  document.getElementById('logo').addEventListener('click', function (e) {\n    e.preventDefault();\n    resetCamera();\n  });\n}\n\nfunction cameraToAbout() {\n  if (!bookCover) return;\n\n  gsap.to(camera.position, {\n    ...aboutCameraPos,\n    duration: 1.5,\n  });\n  gsap.to(camera.rotation, {\n    ...aboutCameraRot,\n    duration: 1.5,\n  });\n  gsap.to(bookCover.rotation, {\n    x: Math.PI,\n    duration: 1.5,\n    delay: 1.5,\n  });\n\n  // prevent about text clutter due to bright light\n  if (theme !== 'dark') {\n    gsap.to(roomLight, {\n      intensity: 1,\n      duration: 1.5,\n    });\n  }\n}\n\nfunction aboutMenuListener() {\n  document.getElementById('about-menu').addEventListener('click', function (e) {\n    e.preventDefault();\n    disableOrbitControls();\n    resetProjects();\n    cameraToAbout();\n    gsap.delayedCall(1.5, enableCloseBtn);\n  });\n}\n\nfunction projectsMenuListener() {\n  // create project planes with textures\n  projects.forEach((project, i) => {\n    const colIndex = i % 3 === 0 ? 0 : 1;\n    const rowIndex = Math.floor(i / 3);\n    const geometry = new THREE.PlaneGeometry(0.71, 0.4);\n    const material = new THREE.MeshBasicMaterial({\n      color: 0xffffff,\n      map: new THREE.TextureLoader().load(project.image),\n      transparent: true,\n      opacity: 0.0,\n    });\n    const projectPlane = new THREE.Mesh(geometry, material);\n    projectPlane.name = 'project';\n    projectPlane.userData = {\n      url: project.url,\n    };\n    projectPlane.position.set(\n      0.3 + i * 0.8 * colIndex,\n      1 - rowIndex * 0.5,\n      -1.15\n    );\n    projectPlane.scale.set(0, 0, 0);\n    // mesh & y vars needed for animation\n    projects[i].mesh = projectPlane;\n    projects[i].y = 1 - rowIndex * 0.5;\n    scene.add(projectPlane);\n  });\n\n  document\n    .getElementById('projects-menu')\n    .addEventListener('click', function (e) {\n      e.preventDefault();\n      disableOrbitControls();\n      resetBookCover();\n      gsap.to(camera.position, {\n        ...projectsCameraPos,\n        duration: 1.5,\n      });\n      gsap.to(camera.rotation, {\n        ...projectsCameraRot,\n        duration: 1.5,\n      });\n      gsap.delayedCall(1.5, enableCloseBtn);\n\n      // animate & show project items\n      projects.forEach((project, i) => {\n        project.mesh.scale.set(1, 1, 1);\n        gsap.to(project.mesh.material, {\n          opacity: 1,\n          duration: 1.5,\n          delay: 1.5 + i * 0.1,\n        });\n        gsap.to(project.mesh.position, {\n          y: project.y + 0.05,\n          duration: 1,\n          delay: 1.5 + i * 0.1,\n        });\n      });\n    });\n}\n\nfunction init3DWorldClickListeners() {\n  const mousePosition = new THREE.Vector2();\n  const raycaster = new THREE.Raycaster();\n  let intersects;\n\n  window.addEventListener('click', function (e) {\n    // store value set to prevent multi time update in foreach loop\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n\n    // prevent about focus on button click which are positioned above book in mobile view\n    const closeBtn = document.getElementById('close-btn');\n    const projectsBtn = document.getElementById('projects-menu');\n    if (\n      e.target === closeBtn ||\n      closeBtn.contains(e.target) ||\n      e.target === projectsBtn ||\n      projectsBtn.contains(e.target)\n    ) {\n      return false;\n    }\n\n    mousePosition.x = (e.clientX / window.innerWidth) * 2 - 1;\n    mousePosition.y = -(e.clientY / window.innerHeight) * 2 + 1;\n    raycaster.setFromCamera(mousePosition, camera);\n    intersects = raycaster.intersectObjects(scene.children);\n    intersects.forEach((intersect) => {\n      if (intersect.object.name === 'project') {\n        intersect.object.userData.url &&\n          window.open(intersect.object.userData.url);\n      }\n\n      if (\n        intersect.object.name === 'Book' ||\n        intersect.object.name === 'Book001'\n      ) {\n        disableOrbitControls();\n        cameraToAbout();\n        gsap.delayedCall(1.5, enableCloseBtn);\n      }\n\n      if (\n        intersect.object.name === 'SwitchBoard' ||\n        intersect.object.name === 'Switch'\n      ) {\n        theme = newTheme;\n        switchTheme(theme);\n      }\n    });\n  });\n}\n\n// RESPONSIVE\nfunction initResponsive(roomScene) {\n  if (isMobile) {\n    roomScene.scale.set(0.95, 0.95, 0.95);\n    aboutCameraPos = {\n      x: 0.09,\n      y: 0.23,\n      z: 0.51,\n    };\n    aboutCameraRot = {\n      x: -1.57,\n      y: 0,\n      z: 1.57,\n    };\n\n    // rect light\n    // rectLight.width = 0.406;\n    // rectLight.height = 0.3;\n    // rectLight.position.z = -0.34;\n\n    // project\n    projectsCameraPos = {\n      x: 1.1,\n      y: 0.82,\n      z: 0.5,\n    };\n    projectsCameraRot = {\n      x: 0,\n      y: 0,\n      z: 1.55,\n    };\n    projects.forEach((project, i) => {\n      project.mesh.position.z = -1.13;\n    });\n\n    controls.maxDistance = 1.5;\n    controls.maxAzimuthAngle = Math.PI * 0.75;\n  }\n}\n\n// close button\ndocument.getElementById('close-btn').addEventListener('click', (e) => {\n  e.preventDefault();\n  resetCamera();\n});\n\n// contact menu\ndocument.getElementById('contact-btn').addEventListener('click', (e) => {\n  e.preventDefault();\n  document\n    .querySelector('.contact-menu__dropdown')\n    .classList.toggle('contact-menu__dropdown--open');\n});\n\ndocument.addEventListener('mouseup', (e) => {\n  const container = document.querySelector('.contact-menu');\n  if (!container.contains(e.target)) {\n    container\n      .querySelector('.contact-menu__dropdown')\n      .classList.remove('contact-menu__dropdown--open');\n  }\n});\n\n// update camera, renderer on resize\nwindow.addEventListener('resize', () => {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n});\n"],"file":"main.dev.js"}